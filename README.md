## [기본적인 Transform,Transition,Animation](https://velog.io/@dae_eun2/Interactive-Web-TransitionAnimation)

## 1. 레이아웃 그리기

![스크린샷 2022-10-28 오후 3 10 49](https://user-images.githubusercontent.com/104764474/198515792-c48c051b-80e0-4434-ad0b-5e9a4f2ba011.png)

보고있는 스크롤 세션이 sticky인지 noraml타입인지를 구분하고,<br/>
노말 타입이면 원래 높이로, sticky타입이면 일정량을 늘려준다.
<br/>
또한, 현재 보고있는 세션이 몇번째 씬인지를 알기위해 <br/>
스크롤한 양과 윈도우의 스크롤양을 비교한다.<br/>

마지막으로, 캔버스 사이즈를 height기준으로 맞춰서 그려준다.

## 2. 스크롤 양에 따른 애니메이션 변화 값 구하기
우선 values에 애니메이션의 시작포인트,엔드포인트, 그리고 스크롤 비율에 따른 애니메이션 시작점,종료지점을 정해준다.
![스크린샷 2022-10-28 오후 3 15 03](https://user-images.githubusercontent.com/104764474/198516467-34a3395d-9c90-4571-9e48-5d1221f4eb9d.png)

각 세션의 높이와 스크롤된 양을 비교하여 시작포인트부터 엔드포인트 까지 서서히 변화를 주는 rv값을 리턴한다.
![스크린샷 2022-10-28 오후 3 14 10](https://user-images.githubusercontent.com/104764474/198516301-3292013f-b18a-4917-bec1-9e816f4b6b22.png)


## 3. 스크롤 양에 따른 애니메이션 효과
리턴된 rv값에 따라 변경되는 애니메이션 효과를 준다.
![스크린샷 2022-10-28 오후 3 17 58](https://user-images.githubusercontent.com/104764474/198516857-baff48c5-e057-406a-b1af-e402396e45da.png)

## 4. 캔버스 이미지 부분 랜더링

한번에 모든 이미지를 랜더링 한 후, 완료되었을때 화면을 보여주게된다면 <br/>
컴퓨터 사양에 따라 TTV시간이 길어질 수 있다.
현재 보고 있는 세션이 몇번째 인지를 파악하여, 필요한 부분을 먼저 로드 후, 완료가 되면 <br/>
다음 부분을 로드한다.<br/>
![스크린샷 2022-10-28 오후 3 19 22](https://user-images.githubusercontent.com/104764474/198517047-910a0ee0-d513-4137-8d23-639fa6cb7e63.png)<br/>
하지만 이미지가 순서대로 로드 된다는 보장이 없으므로 <br/>
버블 정렬을 활용하여 이미지를 순서대로 정리 후 로드한다.<br/>
![스크린샷 2022-10-28 오후 3 20 49](https://user-images.githubusercontent.com/104764474/198517295-c9f01dad-a00d-4137-a945-23b8f3aa5979.png)


## 5.사이즈 변경 에러처리 
 뷰포트의 사이즈가 변경되었을경우, 이미 레이아웃이 세팅이 되어있기 때문에 <br/>
 레이아웃이 틀어지게된다.<br/>
 따라서, 사이즈가 변경되거나 모바일 기기의 가로,세로변경 이벤트가 발생할 경우<br/>
 새로고침을 하여 레이아웃을 새롭게 그려준다.<br/>
![스크린샷 2022-10-28 오후 3 22 37](https://user-images.githubusercontent.com/104764474/198517581-1abf5b74-ddd6-4df1-b53d-b4597f796d4c.png)

## 6. 새로고침 후 이미지가 제대로 안보임
새로고침할 경우, 스크롤이벤트가 발생하지않아 <br/>
보고있던 부분이 어느 부분인지 알지 못하여 이미지가 제대로 보이지 않는 경우가 발생 <br/>
따라서 새로고침했을경우, 아주 미세한 스크롤을 강제로 일으켜 이미지를 보여준다.
![스크린샷 2022-10-28 오후 3 25 03](https://user-images.githubusercontent.com/104764474/198517953-b39d5dd7-e55f-4324-8c94-4cc39bf9e490.png)
